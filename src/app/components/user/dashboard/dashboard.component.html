<div class="container-fluid">
  <div class="row">
    <div class="alert alert-primary">Parking Locations</div>
    <div class="col-md-12">
      <div class="card">
        <div class="card-body">
          <input
            type="text"
            id="myInput"
            onkeyup="searchAreas()"
            placeholder="Search for Areas"
          />
          <div class="alert alert-danger" *ngIf="tableData?.length == 0">
            Please Try Again Later
          </div>
          
          <div class="table-responsive">
            <table
              id="table"
              class="table table-striped table-bordered"
              style="width: 100%;"
            >
              <thead class="text-primary">
                <tr>
                  <th>
                    #
                  </th>
                  <th>
                    Slot
                  </th>
                  <th>
                    Area
                  </th>
                  <th>
                    Location
                  </th>
                  <th>
                    Cost Per Hour
                  </th>
                  <th>
                    Reserve Now
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let row of tableData; let i=index">
                  <td>{{i+1}}</td>
                  <td>{{ row.slot }}</td>
                  <td>{{ row.area.area | titlecase }}</td>
                  <td>{{ row.area.location | titlecase }}</td>
                  <td>{{ row.price_per_hour }}</td>
                  <td>
                    <button
                      href="#"
                      role="button"
                      (click)="showReserveForm(row)"
                      class="btn btn-success btn-sm reserve"
                    >
                      Reserve
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="reserveForm">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Reserve Parking</h4>
      </div>
      <div class="modal-body">
        <form novalidate [formGroup]="reserveForm" class="form-horizontal">
          <label class="col-form-label text-dark">Slot</label>
          <div class="form-group">
            <input
              class="form-control"
              [formControlName]="'slot'"
              id="slot"
              type="text"
              placeholder="Enter Slot"
              readonly
            />
          </div>
          <label class="col-form-label text-dark">Price per Hour</label>
          <div class="form-group">
            <input
              class="form-control"
              [formControlName]="'price'"
              id="price"
              type="text"
              placeholder="Enter Price"
              readonly
            />
          </div>
          <label class="col-form-label text-dark">Area</label>
          <div class="form-group">
            <input
              class="form-control"
              [formControlName]="'area'"
              id="area"
              type="text"
              placeholder="Enter Area"
              readonly
            />
          </div>
          <label class="col-form-label text-dark">Location</label>
          <div class="form-group">
            <input
              class="form-control"
              [formControlName]="'location'"
              id="location"
              type="text"
              placeholder="Enter Location"
              readonly
            />
          </div>
          <label class="col-form-label text-dark">From</label>
          <div class="form-group">
            <input
              class="form-control"
              [formControlName]="'fromdatetime'"
              type="datetime-local"
              id="fromdatetime"
              placeholder="Enter From Date"
            />
            <mat-error *ngIf="formErrors.fromdatetime"><b>{{formErrors.fromdatetime}}</b></mat-error>
          </div>
          <label class="col-form-label text-dark">To</label>
          <div class="form-group">
            <input
              class="form-control"
              [formControlName]="'todatetime'"
              id="todatetime"
              type="datetime-local"
              placeholder="Enter To Date"
            />
          </div>
        </form>
        <div class="alert alert-info" *ngIf="cost">
          <label type="text" id="total-hours" class="text-dark"
            ><b>Estimated Cost: â‚¹ {{cost}}</b></label
          >
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-success" [disabled]="reserveForm.invalid" (click)="initPayment()">Reserve</button>
      </div>
    </div>
  </div>
</div>